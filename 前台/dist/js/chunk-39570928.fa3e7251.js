(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-39570928"],{"504e":function(t,e,r){},"52ab":function(t,e,r){"use strict";r("504e")},a4df:function(t,e,r){t.exports=r.p+"img/xboot.3e3408b9.png"},dd7b:function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Row",{staticClass:"login",attrs:{type:"flex",justify:"center",align:"middle"},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submitLogin.apply(null,arguments)}}},[s("Col",{staticStyle:{width:"368px"},attrs:{xs:{span:22}}},[s("Row",{staticClass:"header"},[s("img",{attrs:{src:r("a4df"),width:"360px;"}}),s("clock",{staticClass:"my-clock"})],1),t.error?s("Alert",{attrs:{type:"error","show-icon":""}},[t._v(t._s(t.errorMsg))]):t._e(),s("Row",{staticClass:"login-form"},[s("Form",{ref:"userNameLoginForm",staticClass:"form",attrs:{model:t.form,rules:t.rules}},[s("FormItem",{attrs:{prop:"userName"}},[s("Input",{attrs:{prefix:"ios-contact",size:"large",clearable:"",placeholder:"请输入用户名",autocomplete:"off"},model:{value:t.form.userName,callback:function(e){t.$set(t.form,"userName",e)},expression:"form.userName"}})],1),s("FormItem",{attrs:{prop:"password"}},[s("Input",{attrs:{type:"password",prefix:"ios-lock",size:"large",clearable:"",placeholder:"请输入密码",autocomplete:"off"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1)],1),s("Row",{staticClass:"code-row-bg",attrs:{type:"flex",justify:"space-between"}},[s("Dropdown",[s("router-link",{attrs:{to:"/regist"}},[s("a",{staticClass:"forget-pass"},[t._v("注册账户")])])],1)],1),s("Row",[s("Button",{staticClass:"login-btn",attrs:{type:"primary",size:"large",loading:t.loading,long:""},on:{click:t.submitLogin}},[t.loading?s("span",[t._v("登录中...")]):s("span",[t._v("登录")])])],1)],1)],1)],1)},i=[],o=r("365c"),a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("canvas",{attrs:{id:"clock",width:"200px",height:"200px"}})},n=[],l={name:"clock",data:function(){return{canvas:null,ctx:null,width:0,height:0,r:0,rem:0,digits:[]}},mounted:function(){var t=this;this.$nextTick((function(){t.DrawClock({el:document.getElementById("clock")})}))},methods:{DrawClock:function(t){this.canvas=t.el,this.ctx=this.canvas.getContext("2d"),this.width=this.ctx.canvas.width,this.height=this.ctx.canvas.height,this.r=this.width/2,this.rem=this.width/200,this.digits=[3,4,5,6,7,8,9,10,11,12,1,2],this.init();var e=this;setInterval((function(){e.init()}),1e3)},init:function(){var t=this.ctx;t.clearRect(0,0,this.width,this.height);var e=new Date,r=e.getHours(),s=e.getMinutes(),i=e.getSeconds(),o=r>=12?r-12:r,a=s+i/60;this.drawBackground(),this.drawHour(o,a),this.drawMinute(a),this.drawSecond(i),this.drawDot(),t.restore()},drawBackground:function(){var t=this.ctx,e=this;t.save(),t.translate(this.r,this.r),t.beginPath(),t.lineWidth=8*this.rem,t.arc(0,0,this.r-t.lineWidth/2,0,2*Math.PI,!1),t.stroke(),t.font=16*this.rem+"px Arial",t.textAlign="center",t.textBaseline="middle",this.digits.forEach((function(r,s){var i=2*Math.PI/12*s,o=Math.cos(i)*(e.r-33*e.rem),a=Math.sin(i)*(e.r-33*e.rem);t.fillText(r,o,a)}));for(var r=0;r<60;r++)t.save(),t.rotate(6*r*Math.PI/180),t.beginPath(),t.moveTo(0,-82*this.rem),t.lineTo(0,-87*this.rem),t.closePath(),t.strokeStyle="#000",t.lineWidth=1*this.rem,t.stroke(),t.restore();for(r=0;r<12;r++)t.save(),t.rotate(30*r*Math.PI/180),t.beginPath(),t.moveTo(0,-79*this.rem),t.lineTo(0,-87*this.rem),t.closePath(),t.strokeStyle="#000",t.lineWidth=2*this.rem,t.stroke(),t.restore()},drawHour:function(t,e){var r=this.ctx;r.save(),r.beginPath();var s=2*Math.PI/12*t,i=2*Math.PI/12/60*e;r.rotate(s+i),r.lineWidth=6*this.rem,r.lineCap="round",r.moveTo(0,10*this.rem),r.lineTo(0,-this.r/2),r.stroke(),r.restore()},drawMinute:function(t){var e=this.ctx;e.save(),e.beginPath();var r=2*Math.PI/60*t;e.rotate(r),e.lineWidth=3*this.rem,e.lineCap="round",e.moveTo(0,10*this.rem),e.lineTo(0,-this.r+26*this.rem),e.stroke(),e.restore()},drawSecond:function(t){var e=this.ctx;e.save(),e.beginPath(),e.fillStyle="#c14543";var r=2*Math.PI/60*t;e.rotate(r),e.moveTo(-3*this.rem,20*this.rem),e.lineTo(3*this.rem,20*this.rem),e.lineTo(1,-this.r+26*this.rem),e.lineTo(-1,-this.r+26*this.rem),e.fill(),e.restore()},drawDot:function(t){var e=this.ctx;e.beginPath(),e.fillStyle="#fff",e.arc(0,0,3*this.rem,0,2*Math.PI,!1),e.fill()}}},c=l,h=r("cba8"),u=Object(h["a"])(c,a,n,!1,null,null,null),d=u.exports,m={data:function(){return{error:!1,errorMsg:"",saveLogin:!0,loading:!1,form:{userName:"",password:""},rules:{userName:[{required:!0,message:"账号不能为空",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"}]}}},components:{clock:d},methods:{showErrorMsg:function(t){this.error=!0,this.errorMsg=t},submitLogin:function(){var t=this;this.$refs.userNameLoginForm.validate((function(e){e&&(t.loading=!0,Object(o["bb"])({userName:t.form.userName,password:t.form.password,saveLogin:t.saveLogin}).then((function(e){1===e.code?(t.setStore("accessToken",e.token),Object(o["zb"])().then((function(e){1===e.code?(t.setStore("userInfo",e.data),t.$router.push({name:"home_index"})):t.loading=!1}))):(t.loading=!1,t.error=!0,t.errorMsg=e.msg)})))}))}}},f=m,g=(r("52ab"),Object(h["a"])(f,s,i,!1,null,null,null));e["default"]=g.exports}}]);
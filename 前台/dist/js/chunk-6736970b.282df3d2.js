(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6736970b"],{"2bcc":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("Card",{attrs:{title:"添加时间线"}},[i("Form",{attrs:{"label-width":100}},[i("FormItem",{attrs:{label:"时间："}},[i("DatePicker",{staticStyle:{width:"300px"},attrs:{type:"date",placeholder:"选择时间"},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1),i("FormItem",{attrs:{label:"系统："}},[i("Select",{staticStyle:{width:"300px"},attrs:{filterable:"",clearable:""},on:{"on-change":function(e){t.model=[]}},model:{value:t.system,callback:function(e){t.system=e},expression:"system"}},t._l(t.sysList,(function(e){return i("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.title))])})),1)],1),i("FormItem",{attrs:{label:"模块："}},[t.modelList.length>0?i("CheckboxGroup",{model:{value:t.model,callback:function(e){t.model=e},expression:"model"}},t._l(t.filterModal(t.system),(function(e){return i("Checkbox",{key:e.modelId,staticStyle:{"margin-bottom":"10px"},attrs:{label:e.modelId}},[t._v(t._s(e.modelName))])})),1):t._e(),i("span",{staticStyle:{color:"#999"}},[t._v("选择系统后显示")])],1),i("FormItem",{attrs:{label:"备注："}},[i("Input",{attrs:{type:"textarea",rows:4},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1),i("FormItem",{attrs:{label:"标签："}},[i("RadioGroup",{model:{value:t.tag,callback:function(e){t.tag=e},expression:"tag"}},t._l(t.tags,(function(e){return i("Radio",{key:e.id,attrs:{label:e.id}},[t._v(t._s(e.name))])})),1)],1),i("FormItem",[i("Button",{attrs:{type:"primary"},on:{click:t.add}},[t._v("确定")]),i("Button",{staticStyle:{"margin-left":"20px"},attrs:{type:"default",to:"/time-line"}},[t._v("返回")])],1)],1)],1)],1)},a=[],s=i("365c"),o=i("caaf"),l=i.n(o),d={name:"timeline",data:function(){return{model:[],time:"",system:"",sysList:[],modelList:[],description:"",id:"",tags:[],tag:""}},methods:{filterModal:function(t){return _.filter(this.modelList,["systemId",t])},add:function(){var t=this,e={id:this.id,userName:JSON.parse(localStorage.getItem("userInfo")).nickName,systemId:this.system,systemName:_.find(this.sysList,["id",this.system]).title,description:this.description,tag:this.tag,time:l()(this.time).format("YYYY-MM-DD"),model:this.model};this.id?Object(s["D"])(e).then((function(e){t.$router.push({name:"time-line"})})):Object(s["g"])(e).then((function(e){t.$router.push({name:"time-line"})}))},updateTimeline:function(){},deleteTimeline:function(){},getlist:function(){Object(s["R"])().then((function(t){}))},exportExcel:function(){},addModal:function(){this.model.push({id:"",value:""})},delModal:function(t){this.model.splice(this.model,1)},init:function(){var t=this;Object(s["L"])().then((function(e){t.sysList=e.data,t.id=t.$route.query.id,t.$route.query.id&&Object(s["Q"])({id:t.$route.query.id}).then((function(e){t.model=e.data.model,t.time=e.data.time,t.system=e.data.systemId,t.description=e.data.description,t.tag=e.data.tag}))}))}},mounted:function(){var t=this;this.init(),Object(s["N"])().then((function(e){t.tags=e.data,t.getlist()})),Object(s["Y"])().then((function(e){t.modelList=e.data}))}},r=d,c=(i("91b5"),i("cba8")),m=Object(c["a"])(r,n,a,!1,null,null,null);e["default"]=m.exports},7169:function(t,e,i){},"91b5":function(t,e,i){"use strict";i("7169")}}]);
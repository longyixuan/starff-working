(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-40bb33f7"],{"0a10":function(t,e,s){},d8e7:function(t,e,s){"use strict";s("0a10")},ecfd:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Card",{attrs:{title:"工作总结"}},[s("h1",{staticClass:"summary-view-h1",attrs:{slot:"title"},slot:"title"},[t._v("\n        "+t._s(t.title)+"\n        "),s("div",{staticClass:"summary-view-time"},[s("Icon",{attrs:{type:"md-calendar",size:"26"}})],1)]),s("div",{staticStyle:{padding:"0 20px"}},[s("div",{staticClass:"summary-view-warp"},[t._l(t.submitList,(function(e,a){return[s("h2",{staticClass:"summary-view-h2"},[t._v(t._s(t.toChinesNum(a+1))+"、"+t._s(e.systemName))]),s("div",{staticClass:"summary-view-content"},[s("table",{staticClass:"summary-table"},[s("thead",[s("tr",[s("th",{attrs:{width:"180"}},[t._v("模块")]),s("th",[t._v("工作内容")])])]),s("tbody",t._l(e.content,(function(e,a){return s("tr",[s("td",[t._v(t._s(t.filterTitle(e.contentTitle)))]),s("td",[s("div",{staticStyle:{"white-space":"pre-line","word-break":"break-all"}},[t._v(t._s(e.contentDescription))])])])})),0)])])]})),s("h2",{staticClass:"summary-view-h2"},[t._v("工作计划")]),s("div",{staticClass:"summary-view-content"},[s("table",{staticClass:"summary-table"},[s("thead",[s("tr",[s("th",{attrs:{width:"180"}},[t._v("系统")]),s("th",[t._v("工作计划内容")])])]),s("tbody",t._l(t.gzjhList,(function(e){return s("tr",[s("td",[t._v("\n                                "+t._s(e.systemName)+"\n                            ")]),s("td",[s("div",{staticStyle:{"white-space":"pre-line","word-break":"break-all"}},[t._v(t._s(e.gzjh))])])])})),0)])]),t.hf.length>0?[s("h2",{staticClass:"summary-view-h2"},[t._v("回复")]),s("div",{staticClass:"summary-view-content"},[s("table",{staticClass:"summary-table"},[s("thead",[s("tr",[s("th",[t._v("内容")]),s("th",{attrs:{width:"160"}},[t._v("时间")])])]),s("tbody",t._l(t.hf,(function(e){return s("tr",[s("td",[t._v("\n                                "+t._s(e.replayDes)+"\n                            ")]),s("td",[t._v("\n                                "+t._s(e.replayTime)+"\n                            ")])])})),0)])])]:t._e(),s("h2",{staticClass:"summary-view-h2"},[t._v("退回修改")]),s("div",{staticClass:"summary-view-content"},[s("table",{staticClass:"summary-table"},[s("thead",[s("tr",[s("th",{attrs:{width:"180"}},[t._v("原因")])])]),s("tbody",[s("tr",[s("td",[t._v(t._s(t.reason))])])])])]),1===t.type?s("div",{staticStyle:{"margin-top":"20px","text-align":"center"}},[s("Button",{staticStyle:{"margin-right":"20px"},attrs:{type:"warning"},on:{click:t.tuihui}},[t._v("退回")]),s("Button",{attrs:{type:"warning",ghost:""},on:{click:t.huifu}},[t._v("回复")])],1):t._e()],2)]),s("Modal",{attrs:{title:"退回"},on:{"on-ok":t.onOkT},model:{value:t.tModal,callback:function(e){t.tModal=e},expression:"tModal"}},[s("Input",{staticClass:"marginB-20",attrs:{type:"textarea",rows:6,placeholder:"请填写退回原因"},model:{value:t.reason,callback:function(e){t.reason=e},expression:"reason"}})],1),s("Modal",{attrs:{title:"回复"},on:{"on-ok":t.onOkH},model:{value:t.hModal,callback:function(e){t.hModal=e},expression:"hModal"}},[s("Input",{staticClass:"marginB-20",attrs:{type:"textarea",rows:6,placeholder:"请填写回复内容"},model:{value:t.hdes,callback:function(e){t.hdes=e},expression:"hdes"}}),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("Button",{attrs:{type:"text"},on:{click:function(e){t.hModal=!1}}},[t._v("取消")]),s("Button",{attrs:{type:"primary",disabled:""==t.hdes},on:{click:t.onOkH}},[t._v("确定")])],1)],1)],1)},i=[],n=s("365c"),o={data:function(){return{templateId:this.$route.query.id,disabled:!1,title:"",type:0,time:"",userId:"",commentId:"",reason:"",tModal:!1,hModal:!1,hdes:"",tdes:"",submitList:[],modelList:[],gzjhList:[],hf:[]}},methods:{tuihui:function(){this.tModal=!0},huifu:function(){this.hModal=!0},onOkT:function(){var t=this;Object(n["h"])({documentId:this.$route.query.id,userId:this.commentId,commentId:this.commentId,reason:this.reason,type:this.$route.query.type}).then((function(e){1===e.code?(t.$Message.success("退回成功"),t.disabled=!0):t.$Message.error("退回失败")}))},onOkH:function(){var t=this;Object(n["jb"])({documentId:this.$route.query.id,fsrId:this.commentId,sjrId:this.userId,replayDes:this.hdes,type:this.$route.query.type}).then((function(e){1==e.code&&(t.hModal=!1)}))},filterTitle:function(t){return _.find(this.modelList,["modelId",t]).modelName},init:function(){var t=this;Object(n["v"])(this.$route.query.type,{id:this.$route.query.id}).then((function(e){if(1==e.code){if(e.data.length>0){t.title=e.data[0].content[0].documentName,t.userId=e.data[0].content[0].userId,"day"==t.$route.query.type&&(t.time=e.data[0].content[0].documentName),e.data[0]._id.status_info.length>0&&"0"==e.data[0]._id.status_info[0].status&&(t.disabled=!0),t.submitList=[];for(var s=0;s<e.data.length;s++)t.submitList.push({systemId:e.data[s]._id.systemId,systemName:e.data[s]._id.systemName,content:e.data[s].content})}t.gzjhList=e.gzjh,t.hf=e.hf,e.thyy&&(t.reason=e.thyy.reason)}}))},toChinesNum:function(t){var e=["零","一","二","三","四","五","六","七","八","九","十","十一","十二","十三","十四","十五","十六","十七","十八","十九","二十","二十一","二十二","二十三","二十四","二十五","二十六","二十七","二十八","二十九","三十","三十一","三十二","三十三","三十四","三十五","三十六","三十七","三十八","三十九","四十","四十一","四十二","四十三","四十四","四十五","四十六","四十七","四十八","四十九","五十","五十一","五十二","五十三","五十四","五十五","五十六","五十七","五十八","五十九","六十","六十一","六十二","六十三","六十四","六十五","六十六","六十七","六十八","六十九","七十","七十一","七十二","七十三","七十四","七十五","七十六","七十七","七十八","七十九","八十"];return e[t]},confirm:function(t,e){this.$Modal.confirm({title:"提示",content:t,onOk:function(){e()}})},callBackFn:function(){var t=this,e="确定要退回吗？";this.confirm(e,(function(){Object(n["h"])({documentId:t.$route.query.id,userId:t.commentId,commentId:t.commentId,reason:t.reason,type:t.$route.query.type}).then((function(e){1===e.code?(t.$Message.success("退回成功"),t.disabled=!0):t.$Message.error("退回失败")}))}))}},mounted:function(){var t=this;Object(n["Y"])().then((function(e){t.modelList=e.data,t.init()})),this.type=JSON.parse(localStorage.getItem("userInfo")).type,this.commentId=JSON.parse(localStorage.getItem("userInfo")).userId}},r=o,d=(s("d8e7"),s("cba8")),c=Object(d["a"])(r,a,i,!1,null,null,null);e["default"]=c.exports}}]);
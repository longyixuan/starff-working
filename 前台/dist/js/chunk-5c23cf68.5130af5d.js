(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5c23cf68"],{"1663c":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Card",{attrs:{padding:0}},[a("div",{staticClass:"infor-card-con"},[a("Col",{staticClass:"infor-card-icon-con",style:{backgroundColor:t.color,color:"white"},attrs:{span:"8"}},[a("Row",{staticClass:"height-100",attrs:{type:"flex",align:"middle",justify:"center"}},[a("Icon",{attrs:{type:t.iconType,size:t.iconSize}})],1)],1),a("Col",{staticClass:"height-100",attrs:{span:"16"}},[a("Row",{staticClass:"height-100",attrs:{type:"flex",align:"middle",justify:"center"}},[a("count-up",{staticClass:"infor-card-count user-created-count",attrs:{"id-name":t.idName,"end-val":t.endVal,color:t.color,countSize:t.countSize,countWeight:t.countWeight}},[a("p",{staticClass:"infor-intro-text",attrs:{slot:"intro"},slot:"intro"},[t._v(t._s(t.introText))])])],1)],1)],1)])},r=[],s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("p",{class:t.className,style:{textAlign:"center",color:t.color,fontSize:t.countSize,fontWeight:t.countWeight}},[a("span",{attrs:{id:t.idName}},[t._v(t._s(t.startVal))]),a("span",[t._v(t._s(t.unit))])]),t._t("intro")],2)},i=[],o=a("3ccc"),d=a.n(o);function c(t){var e=0,a="";return t<1e3?e=t:t>=1e3&&t<1e6?(e=parseInt(t/1e3),a="K+"):t>=1e6&&t<1e10?(e=parseInt(t/1e6),a="M+"):(e=parseInt(t/1e9),a="B+"),{val:e,unit:a}}var l={data:function(){return{unit:"",demo:{}}},name:"countUp",props:{idName:String,className:String,startVal:{type:Number,default:0},endVal:{type:Number,required:!0},decimals:{type:Number,default:0},duration:{type:Number,default:2},delay:{type:Number,default:500},options:{type:Object,default:function(){return{useEasing:!0,useGrouping:!0,separator:",",decimal:"."}}},color:String,countSize:{type:String,default:"30px"},countWeight:{type:Number,default:700},introText:[String,Number]},mounted:function(){var t=this;this.$nextTick((function(){setTimeout((function(){var e=c(t.endVal),a=e.val;t.unit=e.unit;var n={};t.demo=n=new d.a(t.idName,t.startVal,a,t.decimals,t.duration,t.options),n.error||n.start()}),t.delay)}))}},u=l,m=a("cba8"),f=Object(m["a"])(u,s,i,!1,null,null,null),p=f.exports,h={name:"inforCard",components:{countUp:p},props:{idName:String,endVal:Number,color:String,iconType:String,introText:String,countSize:{type:String,default:"30px"},countWeight:{type:Number,default:700},iconSize:{type:Number,default:40}}},y=h,v=(a("ca84"),Object(m["a"])(y,n,r,!1,null,null,null));e["a"]=v.exports},"17f5":function(t,e,a){"use strict";a("44c1")},"1e51":function(t,e,a){},"3ccc":function(t,e,a){var n,r;!function(s,i){n=i,r="function"===typeof n?n.call(e,a,e,t):n,void 0===r||(t.exports=r)}(0,(function(t,e,a){var n=function(t,e,a,n,r,s){for(var i=0,o=["webkit","moz","ms","o"],d=0;d<o.length&&!window.requestAnimationFrame;++d)window.requestAnimationFrame=window[o[d]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[o[d]+"CancelAnimationFrame"]||window[o[d]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,e){var a=(new Date).getTime(),n=Math.max(0,16-(a-i)),r=window.setTimeout((function(){t(a+n)}),n);return i=a+n,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)});var c=this;for(var l in c.options={useEasing:!0,useGrouping:!0,separator:",",decimal:".",easingFn:null,formattingFn:null},s)s.hasOwnProperty(l)&&(c.options[l]=s[l]);""===c.options.separator&&(c.options.useGrouping=!1),c.options.prefix||(c.options.prefix=""),c.options.suffix||(c.options.suffix=""),c.d="string"==typeof t?document.getElementById(t):t,c.startVal=Number(e),c.endVal=Number(a),c.countDown=c.startVal>c.endVal,c.frameVal=c.startVal,c.decimals=Math.max(0,n||0),c.dec=Math.pow(10,c.decimals),c.duration=1e3*Number(r)||2e3,c.formatNumber=function(t){var e,a,n,r;if(t=t.toFixed(c.decimals),t+="",e=t.split("."),a=e[0],n=e.length>1?c.options.decimal+e[1]:"",r=/(\d+)(\d{3})/,c.options.useGrouping)for(;r.test(a);)a=a.replace(r,"$1"+c.options.separator+"$2");return c.options.prefix+a+n+c.options.suffix},c.easeOutExpo=function(t,e,a,n){return a*(1-Math.pow(2,-10*t/n))*1024/1023+e},c.easingFn=c.options.easingFn?c.options.easingFn:c.easeOutExpo,c.formattingFn=c.options.formattingFn?c.options.formattingFn:c.formatNumber,c.version=function(){return"1.7.1"},c.printValue=function(t){var e=c.formattingFn(t);"INPUT"===c.d.tagName?this.d.value=e:"text"===c.d.tagName||"tspan"===c.d.tagName?this.d.textContent=e:this.d.innerHTML=e},c.count=function(t){c.startTime||(c.startTime=t),c.timestamp=t;var e=t-c.startTime;c.remaining=c.duration-e,c.options.useEasing?c.countDown?c.frameVal=c.startVal-c.easingFn(e,0,c.startVal-c.endVal,c.duration):c.frameVal=c.easingFn(e,c.startVal,c.endVal-c.startVal,c.duration):c.countDown?c.frameVal=c.startVal-(c.startVal-c.endVal)*(e/c.duration):c.frameVal=c.startVal+(c.endVal-c.startVal)*(e/c.duration),c.countDown?c.frameVal=c.frameVal<c.endVal?c.endVal:c.frameVal:c.frameVal=c.frameVal>c.endVal?c.endVal:c.frameVal,c.frameVal=Math.round(c.frameVal*c.dec)/c.dec,c.printValue(c.frameVal),e<c.duration?c.rAF=requestAnimationFrame(c.count):c.callback&&c.callback()},c.start=function(t){return c.callback=t,c.rAF=requestAnimationFrame(c.count),!1},c.pauseResume=function(){c.paused?(c.paused=!1,delete c.startTime,c.duration=c.remaining,c.startVal=c.frameVal,requestAnimationFrame(c.count)):(c.paused=!0,cancelAnimationFrame(c.rAF))},c.reset=function(){c.paused=!1,delete c.startTime,c.startVal=e,cancelAnimationFrame(c.rAF),c.printValue(c.startVal)},c.update=function(t){cancelAnimationFrame(c.rAF),c.paused=!1,delete c.startTime,c.startVal=c.frameVal,c.endVal=Number(t),c.countDown=c.startVal>c.endVal,c.rAF=requestAnimationFrame(c.count)},c.printValue(c.startVal)};return n}))},"44c1":function(t,e,a){},7523:function(t,e,a){"use strict";a("1e51")},"7f20":function(t,e,a){},ca84:function(t,e,a){"use strict";a("7f20")},efac:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Row",{style:{marginBottom:"20px"},attrs:{gutter:20}},[a("Col",{attrs:{span:"6"}},[a("infor-card",{attrs:{"id-name":"transfer_count","end-val":t.personalData.sysNum,iconType:"md-desktop",color:"#2d8cf0","intro-text":"负责系统总数"}})],1),a("Col",{attrs:{span:"6"}},[a("infor-card",{attrs:{"id-name":"user_created_count","end-val":t.personalData.weekSysNum,iconType:"md-shuffle",color:"#64d572","intro-text":"本周参与系统数"}})],1),a("Col",{attrs:{span:"6"}},[a("infor-card",{attrs:{"id-name":"visit_count","end-val":t.personalData.timeNum,iconType:"ios-eye",color:"#ffd572","intro-text":"本周累计工时"}})],1),a("Col",{attrs:{span:"6"}},[a("infor-card",{attrs:{"id-name":"collection_count","end-val":t.personalData.docNum,iconType:"ios-time",color:"#f25e43","intro-text":"本周上报总结数"}})],1)],1),a("Row",{attrs:{gutter:20}},[a("Col",[a("Card",{staticStyle:{"margin-bottom":"20px"},attrs:{title:"本周工作计划"}},[t.personalData.plan.length>0?a("table",{staticClass:"summary-table"},[a("thead",[a("tr",[a("th",{attrs:{width:"180"}},[t._v("系统")]),a("th",[t._v("工作计划内容")])])]),a("tbody",t._l(t.personalData.plan,(function(e){return a("tr",[a("td",[t._v("\n                                "+t._s(e.systemName)+"\n                            ")]),a("td",[a("div",{staticStyle:{"white-space":"pre-line","word-break":"break-all"}},[t._v(t._s(e.gzjh))])])])})),0)]):a("div",{staticStyle:{color:"#c30","font-weight":"bold"}},[t._v("\n                    未添加本周计划，请在上周工作总结中补充。\n                ")])])],1)],1),a("Row",{attrs:{gutter:20}},[a("Col",{attrs:{span:"12"}},[a("Card",{attrs:{title:"工时录入情况"}},[a("cal-panel")],1)],1),a("Col",{attrs:{span:"12"}},[a("Row",{attrs:{gutter:20}},[a("Card",{staticStyle:{"margin-bottom":"20px"},attrs:{title:"昨日工时分布"}},[a("div",{staticClass:"data-source-row",staticStyle:{width:"100%",height:"289px"}},[a("div",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"data_source_person1"}})])]),a("Card",{attrs:{title:"本周工时分布"}},[a("div",{staticClass:"data-source-row",staticStyle:{width:"100%",height:"289px"}},[a("div",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"data_source_person2"}})])])],1)],1)],1)],1)},r=[],s=a("365c"),i=a("663f"),o=a("caaf"),d=a.n(o),c=a("4d28"),l=a.n(c),u=a("1663c"),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"parent"}},[a("div",{staticClass:"header"},[a("div",{staticClass:"left"},[t._v("\n      "+t._s(t.headerContent)+"\n    ")])]),a("div",{staticClass:"body"},[a("table",{directives:[{name:"show",rawName:"v-show",value:t.showMonth,expression:"showMonth"}],staticClass:"month-table",attrs:{cellspacing:"0",cellpadding:"0"}},[t._m(0),a("tbody",t._l(t.dates,(function(e,n){return a("tr",{key:n},t._l(t.dates[n],(function(e,r){return a("td",{key:r,on:{mouseenter:function(e){return t.dateMouseEnter(n,r)},mouseleave:function(e){return t.dateMouseLeave(n,r)}}},[a("div",{staticClass:"date",class:[e.class,e.isAlive]},[a("span",[t._v(t._s(e.day))])])])})),0)})),0)])])])},f=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",[t._v("周一")]),a("th",[t._v("周二")]),a("th",[t._v("周三")]),a("th",[t._v("周四")]),a("th",[t._v("周五")]),a("th",[t._v("周六")]),a("th",[t._v("周日")])])}],p={data:function(){return{today:d()().format("YYYY-MM-DD"),currentYearMonth:d()().format("YYYY-MM"),weekTableHeader:[],dates:[],workDate:[],showMonth:!0,weekList:[],headerContent:d()().format("YYYY-MM"),currentWeekday:""}},methods:{prev:function(){this.showMonth?(this.currentYearMonth=d()(this.currentYearMonth).subtract(1,"months").format("YYYY-MM"),this.headerContent=this.currentYearMonth,this.createCalendar()):(this.currentWeekday=d()(this.currentWeekday).subtract(7,"days"),this.weekHeaderContent(),this.createWeekList())},next:function(){this.showMonth?(this.currentYearMonth=d()(this.currentYearMonth).add(1,"months").format("YYYY-MM"),this.headerContent=this.currentYearMonth,this.createCalendar()):(this.currentWeekday=d()(this.currentWeekday).add(7,"days"),this.weekHeaderContent(),this.createWeekList())},dateMouseEnter:function(t,e){this.dates[t][e].isAlive="date-alive"},dateMouseLeave:function(t,e){this.dates[t][e].isAlive=""},checkWoring:function(t){for(var e=!1,a=0;a<this.workDate.length;a++)if(t.isSame(this.workDate[a],"days")){e=!0;break}return e},createCalendar:function(){this.dates=[];var t=d()(this.currentYearMonth+"-01","YYYY-MM-DD"),e=d()(t).weekday();0===e&&(e=7);for(var a=1-e,n=0;n<6;n++){this.dates.push([]);for(var r=0;r<7;r++){var s={};s.day=d()(t).add(a,"days"),s.isAlive="";var i=d()(s.day).month();i===d()(t).month()?(s.class="current-month ",d()(s.day).isSame(this.today,"days")&&(s.class+="today "),this.checkWoring(s.day)&&(s.class+="working ")):s.class="not-current-month ",s.day=d()(s.day).format("DD"),this.dates[n].push(s),a++}}},createWeekList:function(){this.weekTableHeader=["Mon ","Tue ","Wed ","Thu ","Fri ","Sat ","Sun "],this.weekList=[];for(var t=0;t<7;t++){var e={};e.date=d()(this.currentWeekday).add(t,"days"),e.date.isSame(this.today,"days")&&(e.class="today"),e.date=this.weekTableHeader[t]+e.date.format("MM/DD"),this.weekTableHeader[t]=e}for(var a=0;a<7;a++){this.weekList.push([]);for(var n="",r=0;r<48;r++)n=r%2===0?r/2+"点":"",this.weekList[a].push(n)}},weekHeaderContent:function(){this.headerContent=d()(this.currentWeekday).format("MM/DD")+"~"+d()(this.currentWeekday).add(6,"days").format("MM/DD")}},created:function(){var t=this;Object(s["Cb"])({userId:JSON.parse(localStorage.getItem("userInfo")).userId,startTime:Object(i["e"])(),endTime:Object(i["d"])()}).then((function(e){for(var a=0;a<e.data.length;a++)t.workDate.push(e.data[a]._id);t.createCalendar();var n=0===d()().weekday()?7:d()().weekday(),r=1-n;t.currentWeekday=d()().add(r,"days"),t.createWeekList()}))}},h=p,y=(a("17f5"),a("cba8")),v=Object(y["a"])(h,m,f,!1,null,"3b89a40a",null),w=v.exports,g={name:"home",data:function(){return{personalData:{weekSysNum:0,timeNum:0,docNum:0,sysNum:0,plan:""}}},components:{inforCard:u["a"],calPanel:w},methods:{renderPerson1:function(t){for(var e=[],a=0;a<t.length;a++)e.push(t[a].name);var n={tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{left:"center",data:e},color:["#87cefa","#ff7f50","#da70d6","#32cd32","#6495ed","#ff69b4","#ba55d3","#cd5c5c","#ffa500","#40e0d0","#1e90ff","#ff6347","#7b68ee","#00fa9a","#ffd700","#6699FF","#ff6666","#3cb371","#b8860b","#30e0e0"],series:[{name:"工时占比",type:"pie",radius:"55%",center:["50%","50%"],data:t,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};this.personalMap1.setOption(n)},renderPerson2:function(t){for(var e=[],a=0;a<t.length;a++)e.push(t[a].name);var n={tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{left:"center",data:e},color:["#87cefa","#ff7f50","#da70d6","#32cd32","#6495ed","#ff69b4","#ba55d3","#cd5c5c","#ffa500","#40e0d0","#1e90ff","#ff6347","#7b68ee","#00fa9a","#ffd700","#6699FF","#ff6666","#3cb371","#b8860b","#30e0e0"],series:[{name:"工时占比",type:"pie",radius:"55%",center:["50%","50%"],data:t,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};this.personalMap2.setOption(n)}},mounted:function(){var t=this;1!==JSON.parse(localStorage.getItem("userInfo")).type&&(Object(s["fb"])({userId:JSON.parse(localStorage.getItem("userInfo")).userId,startTime:Object(i["i"])(),endTime:Object(i["h"])(),startTime2:Object(i["g"])(),endTime2:Object(i["f"])(),yestday:d()().add(-1,"days").format("YYYY-MM-DD")}).then((function(e){t.personalData.sysNum=e.data.sysNum,t.personalData.docNum=e.data.docNum,t.personalData.timeNum=e.data.timeNum,t.personalData.weekSysNum=e.data.weekSysNum,t.personalData.plan=e.data.plan,t.renderPerson2(e.data.timeMap),t.renderPerson1(e.data.timeMap2)})),this.$nextTick((function(){t.personalMap1=l.a.init(document.getElementById("data_source_person1")),t.personalMap2=l.a.init(document.getElementById("data_source_person2"))})))}},b=g,V=(a("7523"),Object(y["a"])(b,n,r,!1,null,null,null));e["default"]=V.exports}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0896cb4a"],{"0220":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Card",{attrs:{title:"工作总结"}},[n("Form",{ref:"formInline",attrs:{inline:""}},[n("FormItem",[n("DatePicker",{staticStyle:{width:"160px"},attrs:{value:t.time,format:"yyyy-MM",type:"month",placeholder:"请选择年月"},on:{"on-change":t.change}})],1),n("FormItem",[n("Button",{attrs:{type:"primary"},on:{click:t.seach}},[t._v("查询")])],1)],1),n("Table",{staticStyle:{"margin-bottom":"20px"},attrs:{border:"",columns:t.columns,data:t.list},on:{"on-select":t.tableSelected},scopedSlots:t._u([{key:"name",fn:function(e){var i=e.row;return[n("strong",[t._v(t._s(i.templateName))])]}},{key:"time",fn:function(e){var i=e.row;return[n("strong",[t._v(t._s(i.year+"-"+i.month))])]}},{key:"action",fn:function(e){var i=e.row,o=e.index;return[n("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.show(i.templateId)}}},[t._v("查看")]),n("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"warning",size:"small",disabled:!i.status},on:{click:function(e){return t.reset(o,i.templateId)}}},[t._v("置为补充状态")]),n("Button",{attrs:{type:"info",size:"small"},on:{click:function(e){return t.download(i.templateName)}}},[t._v("下载")])]}}])}),n("Button",{attrs:{type:"primary"},on:{click:t.merage}},[t._v("合并勾选并生成部门总结")])],1)},o=[],a=n("365c"),c={data:function(){return{time:"",single:!1,indeterminate:!0,checkAll:!1,list:[],checkAllGroup:[],selectionData:[],columns:[{type:"index",width:60,align:"center"},{type:"selection",width:60,align:"center"},{title:"名称",slot:"name"},{title:"用户名",width:120,align:"center",key:"userName"},{title:"姓名",width:120,align:"center",key:"nickName"},{title:"时间",width:90,align:"center",slot:"time"},{title:"操作",slot:"action",width:240,align:"center"}]}},methods:{tableSelected:function(t){this.selectionData=t},init:function(){var t=this;Object(a["O"])({time:this.time}).then((function(e){1==e.code&&(t.list=e.data)}))},download:function(t){window.location.href="http://"+window.location.hostname+":3333/download/markdown?fileName="+t},seach:function(){this.init()},show:function(t){this.$router.push({name:"template-view",params:{id:t}})},reset:function(t,e){var n=this;this.confirm("置为可修改状态？",(function(){Object(a["nb"])(e).then((function(e){1==e.code&&(n.list.splice(t,1),n.$Message.success("操作成功"))}))}))},change:function(t){this.time=t},confirm:function(t,e){this.$Modal.confirm({title:"提示",content:t,onOk:function(){e()}})},merage:function(){Object(a["eb"])({mergeList:this.selectionData}).then((function(t){console.log(t)}))}},mounted:function(){this.init()}},r=c,s=(n("3579"),n("cba8")),l=Object(s["a"])(r,i,o,!1,null,"13b38e50",null);e["default"]=l.exports},"08f4":function(t,e,n){},3579:function(t,e,n){"use strict";n("08f4")}}]);